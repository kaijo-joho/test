@charset "UTF-8";

/* ===== Headerbar ===== */

/*
<header id="site-header" role="banner">
	<div class="headerbar">
	<div class="headerbar__brand" aria-label="学校名">
		海城中学高等学校 <span class="subject">情報科</span>
	</div>
	<div class="headerbar__course" aria-label="講座名">Python講座</div>
	</div>
</header>
*/

/* ====== あなたの既存レイアウト（変更なし） ====== */

.headerbar {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
  padding: 10px 0;
  width: min(90%, var(--content-max));
  margin: 0 auto;
}
.headerbar a:focus-visible {
  outline: 2px solid color-mix(in oklab, #fff 90%, transparent);
  outline-offset: 2px;
  border-radius: 6px;
}

.headerbar__brand {
  font-size: 1.8rem;
  font-weight: 500;
  letter-spacing: 0.02em;
}

.headerbar__brand .subject {
  font-weight: 200;
  margin-left: 0.4em;
}

.headerbar__course {
  font-weight: 600;
  font-size: 1.2em;
  padding: 0.25rem 0.6rem;
  border-radius: 9999px;
  color: var(--accent);
  background: var(--accent-bg);
  border: 1px solid color-mix(in oklab, var(--accent) 60%, transparent);
}

/* スマホ時は縦積みに */
@media (max-width: 640px) {
  .headerbar {
    flex-direction: column;
    align-items: flex-start;
    gap: 4px;
    padding: 12px 0;
  }
  .headerbar__course {
    align-self: flex-start;
  }
}


/* ====== ここから配色だけを定義／上書き ====== */

/* テーマ色トークン：#225386 を基準に、ダーク時は少し暗くした色を使用 */
:root {
  --brand: #225386;     /* ライト時：ヘッダ背景 */
  --brand-dark: #193E65;/* ダーク時：ヘッダ背景（#225386 をやや暗く） */

  /* ピル（講座名）の色：既存の .headerbar__course が参照しているトークン */
  --accent: #ffffff;                 /* ピルの文字色（白） */
  --accent-bg: rgba(255, 255, 255, 0.14); /* ピルの背景（うっすら白） */
}

/* ライトモード：背景=テーマカラー、文字=白 */
#site-header {
  background: var(--brand);
  color: #fff;
}

/* ヘッダ内の文字色（学校名・学科） */
.headerbar__brand, .headerbar__brand a { color: #fff; }
.headerbar__brand .subject{ color: #fff; opacity: 0.9; }
.headerbar__brand a{text-decoration: none;}
.headerbar__brand a:hover{text-decoration: underline;}

/* ピル（講座名）は既存の変数参照のまま。枠線色だけ明示上書き（白寄り） */
.headerbar__course {
  color: var(--accent);           /* = #fff */
  background: var(--accent-bg);   /* = rgba(255,255,255,0.14) */
  border-color: rgba(255, 255, 255, 0.26); /* 上の border 指定の色だけ後勝ちで上書き */
}

/* ダークモード：背景=暗くしたテーマカラー、文字=白 */
@media (prefers-color-scheme: dark) {
  :root {
    --accent: #ffffff;                 /* ピルの文字は白のまま */
    --accent-bg: rgba(255, 255, 255, 0.18); /* ダーク面では少し濃く */
  }

  #site-header {
    background: var(--brand-dark);
    color: #fff;
    /* 対応環境なら、さらに微調整したい場合：
       background: color-mix(in oklab, var(--brand) 70%, #000);
    */
  }

  .headerbar__brand,
  .headerbar__brand .subject {
    color: #fff;
  }

  .headerbar__course {
    color: var(--accent);         /* = #fff */
    background: var(--accent-bg); /* = rgba(255,255,255,0.18) */
    border-color: rgba(255, 255, 255, 0.32);
  }
}



/* =========================================
   Glassmorphism Header (追加/上書き)
   ========================================= */

/* ガラス共通トークン */
:root {
  --glass-blur: 14px;
  --glass-bg-alpha: 0.30;          /* ヘッダの透け具合 */
  --glass-pill-alpha: 0.22;        /* ピル背景の透け具合 */
  --glass-stroke-light: rgba(255, 255, 255, 0.38);
  --glass-stroke-dark: rgba(0, 0, 0, 0.38);
  --glass-shadow: 0 8px 24px rgba(0, 0, 0, 0.10);
}

/* ヘッダ本体を“透け＋ぼかし”に */
#site-header {
  position: sticky;
  top: 0;
  z-index: 1000;

  /* ブランド色に透過をかける */
  background: color-mix(in oklab, var(--brand) calc(var(--glass-bg-alpha) * 100%), transparent);
  -webkit-backdrop-filter: saturate(120%) blur(var(--glass-blur));
  backdrop-filter: saturate(120%) blur(var(--glass-blur));

  border-bottom: 1px solid color-mix(in oklab, var(--brand) 30%, var(--glass-stroke-light) 70%);
  box-shadow: var(--glass-shadow);
  color: #fff;
}

/* ダークモードは濃いめにしつつ透明度は維持 */
@media (prefers-color-scheme: dark) {
  #site-header {
    background: color-mix(in oklab, var(--brand-dark) 40%, transparent);
    border-bottom-color: color-mix(in oklab, var(--brand-dark) 50%, var(--glass-stroke-dark) 50%);
    box-shadow: 0 12px 28px rgba(0, 0, 0, 0.30);
  }
}

/* backdrop-filter 非対応フォールバック（Firefox等） */
@supports not (backdrop-filter: blur(1px)) {
  #site-header {
    /* 透明度を少し下げて視認性を確保 */
    background: color-mix(in oklab, var(--brand) 85%, #fff 0%);
  }
  @media (prefers-color-scheme: dark) {
    #site-header {
      background: color-mix(in oklab, var(--brand-dark) 85%, #000 0%);
    }
  }
}

/* ブランドの文言は白で安定 */
.headerbar__brand,
.headerbar__brand .subject {
  color: #fff;
  text-shadow: 0 1px 2px rgba(0,0,0,.12);
}

/* 講座名ピル：<a> になった前提でデザイン */
.headerbar__course {
  display: inline-block;
  font-weight: 600;
  font-size: 1.05rem;
  padding: 0.38rem 0.85rem;
  border-radius: 9999px;
  text-decoration: none;

  /* ガラス風背景（白をうすく混ぜる） */
  background: color-mix(in oklab, #fff calc(var(--glass-pill-alpha) * 100%), transparent);
  border: 1px solid rgba(255, 255, 255, 0.45);
  color: #fff;

  transition: transform 120ms ease, background-color 120ms ease, border-color 120ms ease;
}
.headerbar__course:hover {
  transform: translateY(-1px);
  background: color-mix(in oklab, #fff 28%, transparent);
  border-color: rgba(255, 255, 255, 0.55);
}
.headerbar__course:active {
  transform: translateY(0);
}

/* キーボードフォーカスの視認性 */
.headerbar a:focus-visible {
  outline: 2px solid color-mix(in oklab, #fff 90%, transparent);
  outline-offset: 2px;
  border-radius: 9999px;
}

/* スマホ時の扱いは既存指定でOK（縦並び） */